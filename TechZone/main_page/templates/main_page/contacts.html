{% extends 'main_page/layout.html' %}

{% load static %}

{% block title %}Контакты - TechZone{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'main_page/css/contacts.css' %}">
{% endblock %}

{% block content %}
<!-- Breadcrumbs -->
<section class="container mx-auto px-4 py-4">
    <nav class="flex items-center gap-2 text-sm text-gray-500">
        <a href="{% url 'main_page' %}" class="hover:text-purple-600 transition">Главная</a>
        <i class="fas fa-chevron-right text-xs"></i>
        <span class="text-gray-900">Контакты</span>
    </nav>
</section>

<!-- Page Title -->
<section class="container mx-auto px-4 py-4">
    <h1 class="text-3xl md:text-4xl font-bold mb-2">Контакты</h1>
    <p class="text-gray-600">Свяжитесь с нами любым удобным способом</p>
</section>

<!-- Main Content -->
<section class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Contact Info Cards -->
        <div class="lg:col-span-1 space-y-6">
            <!-- Phone Card -->
            <div class="contact-card">
                <div class="contact-icon bg-green-100 text-green-600">
                    <i class="fas fa-phone-alt"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-lg mb-1">Телефон</h3>
                    <a href="tel:88005553535" class="text-xl font-bold text-purple-600 hover:text-purple-700 transition">8-800-555-35-35</a>
                    <p class="text-gray-500 text-sm mt-1">Бесплатно по России</p>
                </div>
            </div>

            <!-- Email Card -->
            <div class="contact-card">
                <div class="contact-icon bg-blue-100 text-blue-600">
                    <i class="fas fa-envelope"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-lg mb-1">Email</h3>
                    <a href="mailto:info@techzone.ru" class="text-lg font-semibold text-purple-600 hover:text-purple-700 transition">info@techzone.ru</a>
                    <p class="text-gray-500 text-sm mt-1">Ответим в течение часа</p>
                </div>
            </div>

            <!-- Address Card -->
            <div class="contact-card">
                <div class="contact-icon bg-red-100 text-red-600">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-lg mb-1">Адрес</h3>
                    <p class="font-semibold">г. Москва, ул. Примерная, 123</p>
                    <p class="text-gray-500 text-sm mt-1">ТЦ "Технопарк", 2 этаж</p>
                </div>
            </div>

            <!-- Working Hours Card -->
            <div class="contact-card">
                <div class="contact-icon bg-purple-100 text-purple-600">
                    <i class="fas fa-clock"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-lg mb-2">Режим работы</h3>
                    <div class="space-y-1">
                        <div class="flex justify-between">
                            <span class="text-gray-600">Пн-Пт:</span>
                            <span class="font-medium">9:00 - 21:00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Сб-Вс:</span>
                            <span class="font-medium">10:00 - 20:00</span>
                        </div>
                    </div>
                    <div id="workStatus" class="mt-3"></div>
                </div>
            </div>

            <!-- Social Networks -->
            <div class="contact-card">
                <div class="contact-icon bg-indigo-100 text-indigo-600">
                    <i class="fas fa-share-alt"></i>
                </div>
                <div class="flex-1">
                    <h3 class="font-semibold text-lg mb-3">Мы в соцсетях</h3>
                    <div class="flex gap-3">
                        <a href="#" class="social-link telegram">
                            <i class="fab fa-telegram-plane"></i>
                        </a>
                        <a href="#" class="social-link vk">
                            <i class="fab fa-vk"></i>
                        </a>
                        <a href="#" class="social-link youtube">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#" class="social-link whatsapp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Form -->
        <div class="lg:col-span-2">
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl font-bold mb-2">Напишите нам</h2>
                <p class="text-gray-600 mb-6">Заполните форму и мы свяжемся с вами в ближайшее время</p>
                
                <form id="contactForm" class="space-y-6">
                    {% csrf_token %}
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="form-group">
                            <label for="name" class="form-label">Ваше имя *</label>
                            <input type="text" id="name" name="name" required 
                                class="form-input" placeholder="Иван Иванов">
                            <span class="form-error" id="nameError"></span>
                        </div>
                        <div class="form-group">
                            <label for="email" class="form-label">Email *</label>
                            <input type="email" id="email" name="email" required 
                                class="form-input" placeholder="example@mail.ru">
                            <span class="form-error" id="emailError"></span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="form-group">
                            <label for="phone" class="form-label">Телефон</label>
                            <input type="tel" id="phone" name="phone" 
                                class="form-input" placeholder="+7 (999) 123-45-67">
                        </div>
                        <div class="form-group">
                            <label for="subject" class="form-label">Тема обращения</label>
                            <select id="subject" name="subject" class="form-input">
                                <option value="">Выберите тему</option>
                                <option value="order">Вопрос по заказу</option>
                                <option value="product">Вопрос о товаре</option>
                                <option value="delivery">Доставка</option>
                                <option value="return">Возврат товара</option>
                                <option value="cooperation">Сотрудничество</option>
                                <option value="other">Другое</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="message" class="form-label">Сообщение *</label>
                        <textarea id="message" name="message" rows="5" required 
                            class="form-input resize-none" placeholder="Опишите ваш вопрос..."></textarea>
                        <span class="form-error" id="messageError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label class="flex items-start gap-3 cursor-pointer">
                            <input type="checkbox" id="agree" name="agree" required 
                                class="mt-1 w-5 h-5 text-purple-600 rounded border-gray-300 focus:ring-purple-500">
                            <span class="text-sm text-gray-600">
                                Я согласен на обработку <a href="#" class="text-purple-600 hover:underline">персональных данных</a> 
                                и принимаю условия <a href="#" class="text-purple-600 hover:underline">пользовательского соглашения</a>
                            </span>
                        </label>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button type="submit" class="btn-submit">
                            <i class="fas fa-paper-plane mr-2"></i>
                            Отправить сообщение
                        </button>
                        <button type="button" id="attachFileBtn" class="btn-secondary">
                            <i class="fas fa-paperclip mr-2"></i>
                            Прикрепить файл
                        </button>
                        <input type="file" id="fileInput" class="hidden" multiple accept=".jpg,.jpeg,.png,.pdf,.doc,.docx">
                    </div>
                    
                    <div id="attachedFiles" class="hidden">
                        <p class="text-sm text-gray-600 mb-2">Прикрепленные файлы:</p>
                        <div id="filesList" class="flex flex-wrap gap-2"></div>
                    </div>
                </form>
            </div>

            <!-- Quick Contact Options -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                <a href="#" class="quick-contact-card">
                    <div class="quick-contact-icon bg-green-500">
                        <i class="fab fa-whatsapp text-2xl"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold">WhatsApp</h4>
                        <p class="text-sm text-gray-500">Быстрый ответ</p>
                    </div>
                </a>
                <a href="#" class="quick-contact-card">
                    <div class="quick-contact-icon bg-blue-500">
                        <i class="fab fa-telegram-plane text-2xl"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold">Telegram</h4>
                        <p class="text-sm text-gray-500">Чат с менеджером</p>
                    </div>
                </a>
                <a href="#" class="quick-contact-card" id="callbackBtn">
                    <div class="quick-contact-icon bg-purple-500">
                        <i class="fas fa-headset text-2xl"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold">Обратный звонок</h4>
                        <p class="text-sm text-gray-500">Перезвоним за 30 сек</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Map Section -->
<section class="container mx-auto px-4 py-8">
    <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
        <div class="p-6 border-b">
            <h2 class="text-2xl font-bold">Как нас найти</h2>
            <p class="text-gray-600">Мы находимся в центре города, рядом со станцией метро</p>
        </div>
        <div class="map-container">
            <div class="map-placeholder">
                <i class="fas fa-map-marked-alt text-6xl text-purple-300 mb-4"></i>
                <p class="text-gray-500 mb-4">Интерактивная карта</p>
                <div class="flex flex-wrap justify-center gap-3">
                    <a href="https://yandex.ru/maps" target="_blank" class="map-link yandex">
                        <i class="fas fa-map mr-2"></i>Яндекс.Карты
                    </a>
                    <a href="https://maps.google.com" target="_blank" class="map-link google">
                        <i class="fab fa-google mr-2"></i>Google Maps
                    </a>
                    <a href="https://2gis.ru" target="_blank" class="map-link dgis">
                        <i class="fas fa-map-pin mr-2"></i>2ГИС
                    </a>
                </div>
            </div>
        </div>
        <div class="p-6 bg-gray-50">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-subway text-purple-600"></i>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Метро</p>
                        <p class="font-medium">Технопарк, 5 мин пешком</p>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-car text-purple-600"></i>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Парковка</p>
                        <p class="font-medium">Бесплатная, 200 мест</p>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-bus text-purple-600"></i>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Автобус</p>
                        <p class="font-medium">№15, 23, 48 до ост. "ТЦ Технопарк"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Departments Section -->
<section class="container mx-auto px-4 py-8">
    <h2 class="text-2xl font-bold mb-6">Наши отделы</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="department-card">
            <div class="department-icon">
                <i class="fas fa-headset"></i>
            </div>
            <h3 class="font-semibold text-lg mb-2">Служба поддержки</h3>
            <p class="text-gray-500 text-sm mb-3">Помощь с заказами и товарами</p>
            <a href="tel:88005553535" class="text-purple-600 font-medium hover:text-purple-700">
                8-800-555-35-35 (доб. 1)
            </a>
        </div>
        <div class="department-card">
            <div class="department-icon">
                <i class="fas fa-truck"></i>
            </div>
            <h3 class="font-semibold text-lg mb-2">Отдел доставки</h3>
            <p class="text-gray-500 text-sm mb-3">Вопросы по доставке заказов</p>
            <a href="tel:88005553535" class="text-purple-600 font-medium hover:text-purple-700">
                8-800-555-35-35 (доб. 2)
            </a>
        </div>
        <div class="department-card">
            <div class="department-icon">
                <i class="fas fa-undo"></i>
            </div>
            <h3 class="font-semibold text-lg mb-2">Возврат и обмен</h3>
            <p class="text-gray-500 text-sm mb-3">Оформление возвратов</p>
            <a href="mailto:return@techzone.ru" class="text-purple-600 font-medium hover:text-purple-700">
                return@techzone.ru
            </a>
        </div>
        <div class="department-card">
            <div class="department-icon">
                <i class="fas fa-handshake"></i>
            </div>
            <h3 class="font-semibold text-lg mb-2">Для партнёров</h3>
            <p class="text-gray-500 text-sm mb-3">Сотрудничество и опт</p>
            <a href="mailto:partners@techzone.ru" class="text-purple-600 font-medium hover:text-purple-700">
                partners@techzone.ru
            </a>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="container mx-auto px-4 py-8 mb-8">
    <h2 class="text-2xl font-bold mb-6">Часто задаваемые вопросы</h2>
    <div class="space-y-4" id="faqContainer">
        <div class="faq-item">
            <button class="faq-question">
                <span>Как отследить мой заказ?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
                <p>Вы можете отследить заказ в личном кабинете в разделе "Мои заказы" или по ссылке из SMS/email уведомления. Также можно позвонить в службу поддержки и назвать номер заказа.</p>
            </div>
        </div>
        <div class="faq-item">
            <button class="faq-question">
                <span>Какие способы оплаты вы принимаете?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
                <p>Мы принимаем оплату банковскими картами (Visa, Mastercard, МИР), через СБП, электронные кошельки, а также наличными при получении. Для юридических лиц доступна оплата по счёту.</p>
            </div>
        </div>
        <div class="faq-item">
            <button class="faq-question">
                <span>Как вернуть товар?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
                <p>Вы можете вернуть товар в течение 14 дней с момента покупки. Товар должен быть в оригинальной упаковке, без следов использования. Для оформления возврата обратитесь в отдел возврата или заполните заявку в личном кабинете.</p>
            </div>
        </div>
        <div class="faq-item">
            <button class="faq-question">
                <span>Есть ли у вас рассрочка?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
                <p>Да, мы предлагаем рассрочку 0% на срок до 24 месяцев от наших банков-партнёров. Оформление занимает всего 5 минут, нужен только паспорт. Подробные условия уточняйте у менеджера.</p>
            </div>
        </div>
    </div>
</section>

<!-- Success Modal -->
<div id="successModal" class="modal-overlay">
    <div class="modal-content">
        <div class="text-center">
            <div class="success-icon">
                <i class="fas fa-check"></i>
            </div>
            <h3 class="text-2xl font-bold mb-2">Сообщение отправлено!</h3>
            <p class="text-gray-600 mb-6">Мы свяжемся с вами в ближайшее время</p>
            <button id="closeModal" class="btn-submit">Отлично!</button>
        </div>
    </div>
</div>

<!-- Callback Modal -->
<div id="callbackModal" class="modal-overlay">
    <div class="modal-content">
        <div class="text-center">
            <h3 class="text-2xl font-bold mb-4">Обратный звонок</h3>
            <p class="text-gray-600 mb-6">Оставьте номер и мы перезвоним вам за 30 секунд</p>
            <form id="callbackForm">
                {% csrf_token %}
                <input type="tel" name="phone" placeholder="+7 (___) ___-__-__" required class="form-input mb-4">
                <button type="submit" class="btn-submit w-full">Жду звонка</button>
            </form>
            <button id="closeCallbackModal" class="mt-4 text-gray-500 hover:text-gray-700">Отмена</button>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}
<script src="{% static 'main_page/JS/contacts.js' %}"></script>
{% endblock %}