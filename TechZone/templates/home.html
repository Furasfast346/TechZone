{% extends 'base.html' %}
{% load static %}

{% block title %}TechZone - –ú–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}

{% block content %}
<!-- Main Banner Slider -->
<section class="container mx-auto px-4 py-6">
    <div class="relative rounded-2xl overflow-hidden">
        <div id="bannerSlider" class="relative h-64 md:h-96">
            <!-- Slide 1 -->
            <div class="banner-slide absolute inset-0 gradient-bg flex items-center" data-slide="0">
                <div class="container mx-auto px-8 md:px-16 flex items-center justify-between">
                    <div class="text-white max-w-lg">
                        <span class="bg-white/20 px-3 py-1 rounded-full text-sm mb-4 inline-block">–•–∏—Ç —Å–µ–∑–æ–Ω–∞</span>
                        <h2 class="text-3xl md:text-5xl font-bold mb-4">–ù–æ–≤—ã–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</h2>
                        <p class="text-white/80 mb-6">–°–∞–º—ã–µ —Å–≤–µ–∂–∏–µ –Ω–æ–≤–∏–Ω–∫–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ —É–∂–µ –≤ –Ω–∞—à–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ</p>
                        <a href="{% url 'catalog' %}?filter=new" class="inline-block bg-white text-purple-600 px-8 py-3 rounded-xl font-semibold hover:bg-gray-100 transition">
                            –°–º–æ—Ç—Ä–µ—Ç—å
                        </a>
                    </div>
                    <div class="hidden md:block">
                        <i class="fas fa-mobile-alt text-white/20 text-[200px]"></i>
                    </div>
                </div>
            </div>

            <!-- Slide 2 -->
            <div class="banner-slide absolute inset-0 bg-gradient-to-r from-orange-500 to-red-500 flex items-center opacity-0" data-slide="1">
                <div class="container mx-auto px-8 md:px-16 flex items-center justify-between">
                    <div class="text-white max-w-lg">
                        <span class="bg-white/20 px-3 py-1 rounded-full text-sm mb-4 inline-block">–°–∫–∏–¥–∫–∏</span>
                        <h2 class="text-3xl md:text-5xl font-bold mb-4">–†–∞—Å–ø—Ä–æ–¥–∞–∂–∞!</h2>
                        <p class="text-white/80 mb-6">–£—Å–ø–µ–π—Ç–µ –∫—É–ø–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É —Å–æ —Å–∫–∏–¥–∫–∞–º–∏ –¥–æ 50%</p>
                        <a href="{% url 'catalog' %}?filter=sale" class="inline-block bg-white text-orange-600 px-8 py-3 rounded-xl font-semibold hover:bg-gray-100 transition">
                            –ö –∞–∫—Ü–∏—è–º
                        </a>
                    </div>
                    <div class="hidden md:block">
                        <i class="fas fa-percent text-white/20 text-[200px]"></i>
                    </div>
                </div>
            </div>

            <!-- Slide 3 -->
            <div class="banner-slide absolute inset-0 bg-gradient-to-r from-green-500 to-teal-500 flex items-center opacity-0" data-slide="2">
                <div class="container mx-auto px-8 md:px-16 flex items-center justify-between">
                    <div class="text-white max-w-lg">
                        <span class="bg-white/20 px-3 py-1 rounded-full text-sm mb-4 inline-block">–í–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥</span>
                        <h2 class="text-3xl md:text-5xl font-bold mb-4">–û–≥—Ä–æ–º–Ω—ã–π –≤—ã–±–æ—Ä</h2>
                        <p class="text-white/80 mb-6">–¢—ã—Å—è—á–∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –Ω–∞—à–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ</p>
                        <a href="{% url 'catalog' %}" class="inline-block bg-white text-green-600 px-8 py-3 rounded-xl font-semibold hover:bg-gray-100 transition">
                            –í –∫–∞—Ç–∞–ª–æ–≥
                        </a>
                    </div>
                    <div class="hidden md:block">
                        <i class="fas fa-th text-white/20 text-[200px]"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slider controls -->
        <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2">
            <button class="slider-dot w-3 h-3 rounded-full bg-white" data-slide="0"></button>
            <button class="slider-dot w-3 h-3 rounded-full bg-white/50" data-slide="1"></button>
            <button class="slider-dot w-3 h-3 rounded-full bg-white/50" data-slide="2"></button>
        </div>
        <button id="prevSlide" class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/20 hover:bg-white/40 rounded-full flex items-center justify-center text-white transition">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button id="nextSlide" class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/20 hover:bg-white/40 rounded-full flex items-center justify-center text-white transition">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>
</section>

<!-- Categories -->
{% if categories %}
<section class="container mx-auto px-4 py-8">
    <h2 class="text-2xl md:text-3xl font-bold mb-6">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
        {% for cat in categories %}
        <a href="{% url 'catalog' %}?category={{ cat.slug|default:cat.name }}" class="category-card bg-white p-6 rounded-xl text-center shadow-sm hover:shadow-lg">
            <i class="fas {{ cat.icon|default:'fa-box' }} text-4xl text-purple-600 mb-3"></i>
            <p class="font-medium">{{ cat.name }}</p>
        </a>
        {% endfor %}
    </div>
</section>
{% else %}
<!-- Default Categories -->
<section class="container mx-auto px-4 py-8">
    <h2 class="text-2xl md:text-3xl font-bold mb-6">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
        <a href="{% url 'catalog' %}?category=smartphones" class="category-card bg-white p-6 rounded-xl text-center shadow-sm hover:shadow-lg">
            <i class="fas fa-mobile-alt text-4xl text-purple-600 mb-3"></i>
            <p class="font-medium">–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã</p>
        </a>
        <a href="{% url 'catalog' %}?category=laptops" class="category-card bg-white p-6 rounded-xl text-center shadow-sm hover:shadow-lg">
            <i class="fas fa-laptop text-4xl text-purple-600 mb-3"></i>
            <p class="font-medium">–ù–æ—É—Ç–±—É–∫–∏</p>
        </a>
        <a href="{% url 'catalog' %}?category=tv" class="category-card bg-white p-6 rounded-xl text-center shadow-sm hover:shadow-lg">
            <i class="fas fa-tv text-4xl text-purple-600 mb-3"></i>
            <p class="font-medium">–¢–µ–ª–µ–≤–∏–∑–æ—Ä—ã</p>
        </a>
        <a href="{% url 'catalog' %}?category=audio" class="category-card bg-white p-6 rounded-xl text-center shadow-sm hover:shadow-lg">
            <i class="fas fa-headphones text-4xl text-purple-600 mb-3"></i>
            <p class="font-medium">–ê—É–¥–∏–æ</p>
        </a>
        <a href="{% url 'catalog' %}?category=gaming" class="category-card bg-white p-6 rounded-xl text-center shadow-sm hover:shadow-lg">
            <i class="fas fa-gamepad text-4xl text-purple-600 mb-3"></i>
            <p class="font-medium">–ò–≥—Ä—ã</p>
        </a>
        <a href="{% url 'catalog' %}?category=photo" class="category-card bg-white p-6 rounded-xl text-center shadow-sm hover:shadow-lg">
            <i class="fas fa-camera text-4xl text-purple-600 mb-3"></i>
            <p class="font-medium">–§–æ—Ç–æ</p>
        </a>
    </div>
</section>
{% endif %}

<!-- Hot Deals -->
{% if deals %}
<section class="container mx-auto px-4 py-8">
    <div class="flex items-center justify-between mb-6">
        <div class="flex items-center gap-3">
            <h2 class="text-2xl md:text-3xl font-bold">üî• –ì–æ—Ä—è—á–∏–µ —Å–∫–∏–¥–∫–∏</h2>
            <div class="hidden md:flex items-center gap-2 bg-red-100 text-red-600 px-4 py-2 rounded-lg font-semibold">
                <i class="fas fa-clock"></i>
                <span id="timerDisplay">23:59:59</span>
            </div>
        </div>
        <a href="{% url 'catalog' %}?filter=sale" class="text-purple-600 hover:text-purple-700 font-medium">–í—Å–µ –∞–∫—Ü–∏–∏ ‚Üí</a>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {% for product in deals %}
        {% include 'partials/product_card.html' with product=product show_discount=True %}
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- New Arrivals -->
{% if new_arrivals %}
<section class="container mx-auto px-4 py-8">
    <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl md:text-3xl font-bold">‚ú® –ù–æ–≤–∏–Ω–∫–∏</h2>
        <a href="{% url 'catalog' %}?filter=new" class="text-purple-600 hover:text-purple-700 font-medium">–í—Å–µ –Ω–æ–≤–∏–Ω–∫–∏ ‚Üí</a>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {% for product in new_arrivals %}
        {% include 'partials/product_card.html' with product=product badge_text='–ù–æ–≤–∏–Ω–∫–∞' badge_color='green' %}
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- Benefits Banner -->
<section class="container mx-auto px-4 py-8">
    <div class="bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl p-8 md:p-12">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-white">
            <div class="flex items-center gap-4">
                <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-truck text-2xl"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-lg">–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
                    <p class="text-white/70 text-sm">–û—Ç 2 —á–∞—Å–æ–≤ –ø–æ –≥–æ—Ä–æ–¥—É</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-shield-alt text-2xl"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-lg">–ì–∞—Ä–∞–Ω—Ç–∏—è</h3>
                    <p class="text-white/70 text-sm">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-credit-card text-2xl"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-lg">–£–¥–æ–±–Ω–∞—è –æ–ø–ª–∞—Ç–∞</h3>
                    <p class="text-white/70 text-sm">–ö–∞—Ä—Ç–æ–π –∏–ª–∏ –Ω–∞–ª–∏—á–Ω—ã–º–∏</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-undo text-2xl"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-lg">–í–æ–∑–≤—Ä–∞—Ç</h3>
                    <p class="text-white/70 text-sm">14 –¥–Ω–µ–π –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Bestsellers / Popular -->
{% if bestsellers %}
<section class="container mx-auto px-4 py-8">
    <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl md:text-3xl font-bold">üèÜ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h2>
        <a href="{% url 'catalog' %}?filter=popular" class="text-purple-600 hover:text-purple-700 font-medium">–í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Üí</a>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {% for product in bestsellers %}
        {% include 'partials/product_card.html' with product=product badge_text='–•–∏—Ç' badge_color='purple' %}
        {% endfor %}
    </div>
</section>
{% endif %}
{% endblock %}

{% block scripts %}
<script src="{% static 'js/home.js' %}"></script>
{% endblock %}