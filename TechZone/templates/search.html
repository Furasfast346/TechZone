{% extends 'base.html' %}
{% load static %}

{% block title %}Поиск: {{ query }} - TechZone{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- Breadcrumbs -->
    <nav class="flex items-center gap-2 text-sm text-gray-500 mb-6">
        <a href="{% url 'home' %}" class="hover:text-purple-600 transition">Главная</a>
        <i class="fas fa-chevron-right text-xs"></i>
        <span class="text-gray-900 font-medium">Поиск</span>
    </nav>

    <h1 class="text-3xl font-bold mb-2">Результаты поиска</h1>
    <p class="text-gray-500 mb-8">
        {% if query %}
        По запросу «<span class="text-purple-600 font-medium">{{ query }}</span>»
        {% if products %}
        найдено {{ products|length }} товаров
        {% else %}
        ничего не найдено
        {% endif %}
        {% else %}
        Введите поисковый запрос
        {% endif %}
    </p>

    {% if products %}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {% for product in products %}
        {% include 'partials/product_card.html' with product=product show_discount=True %}
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center py-16">
        <i class="fas fa-search text-6xl text-gray-300 mb-4"></i>
        <h3 class="text-xl font-semibold mb-2">Ничего не найдено</h3>
        <p class="text-gray-500 mb-6">Попробуйте изменить поисковый запрос</p>
        <a href="{% url 'catalog' %}" class="inline-block bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition">
            Перейти в каталог
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}